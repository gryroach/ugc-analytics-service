# Функциональные требования

1. Система должна вести историю просмотров фильмов пользователем.
   - Система должна фиксировать каждый просмотр фильма пользователем.

2. Система должна предоставлять пользователю возможность ставить лайки и дизлайки фильмам.
   - Пользователь должен иметь возможность поставить лайк или дизлайк фильму.
   - Пользователь должен иметь возможность убрать лайк или дизлайк с фильма.

3. Система должна предоставлять пользователю возможность оставлять отзывы к фильмам.
   - Пользователь должен иметь возможность оставить текстовый отзыв к фильму.
   - Пользователь должен иметь возможность редактировать и удалять свои отзывы.

4. Система должна предоставлять пользователю возможность добавлять фильмы в закладки.
   - Пользователь должен иметь возможность добавить фильм в закладки.
   - Пользователь должен иметь возможность удалить фильм из закладок.

5. Система должна вести список недосмотренных фильмов пользователя.
   - Система должна фиксировать информацию о фильмах, которые пользователь начал смотреть, но не досмотрел до конца.

6. Система должна собирать информацию о работе с плеером.
   - Система должна фиксировать события, связанные с работой плеера (например, переключение языков, пауза, перемотка).

7. Система должна предоставлять API для приема событий от пользователя.
   - API должен принимать события, такие как оставление отзыва, выставление рейтинга, добавление в закладки и т.д.
   - API должен отправлять информацию о событиях в долговременное хранилище для последующего анализа.

8. Система должна предоставлять аналитикам доступ к данным в хранилище.
   - Аналитики должны иметь возможность выполнять запросы к данным для анализа пользовательского поведения.
   - Система должна обеспечивать безопасность и конфиденциальность данных при доступе аналитиков.

# Нефункциональные требования

1. Масштабируемость
   - Система должна быть способна обслуживать до 100,000 одновременных пользователей в пиковые периоды, такие как праздники или акции.
   - Система должна поддерживать горизонтальное масштабирование, позволяя добавлять новые узлы для обработки увеличивающейся нагрузки.
   - Система должна быть способна обрабатывать до 10,000 событий в секунду (RPS) в пиковые периоды.
   
2. Производительность
    - Время отклика API на любое событие не должно превышать 200 миллисекунд 95% времени.
    - Верхний предел для максимального времени ответа API не должен превышать 1 секунды.
    - Время обработки событий и их записи в хранилище не должно превышать 10 секунду 95% времени.

3. Доступность
    - Система должна обеспечивать доступность не менее 99.99% в год, что означает допустимое время простоя не более 52.56 минут в год.
    - Система должна быть способна восстанавливаться после сбоев без потери данных.

4. Надёжность
    - Система должна иметь надёжность не менее 99.9% в течение года.
    - Все пользовательские данные должны регулярно резервироваться, система должна быть способна восстанавливаться после сбоев без потери данных.

5. Ремонтопригодность
    - Система должна обеспечивать возможность исправления ошибок в течение 24 часов с вероятностью не менее 90%.
    - Система должна поддерживать автоматическое обновление и развертывание без простоя.

6. Отказоустойчивость
    - Система должна быть способна поддерживать работоспособность и предотвращать полное прекращение работы в условиях появления отказов или ошибок.
    - Система должна использовать механизмы резервного копирования и дублирования критически важных компонентов.
    - Система должна быть способна восстанавливаться после сбоев в течение 5 минут.

7. Безопасность
    - Система должна обеспечивать защиту данных пользователей и событий от несанкционированного доступа.
    - Все данные должны передаваться по защищенным каналам связи (например, с использованием TLS).

8. Аналитика
    - Система должна обеспечивать возможность аналитикам выполнять запросы к данным в хранилище.
    - Система должна поддерживать интеграцию с инструментами аналитики для визуализации данных и создания отчетов.

9. Хранение данных
    - Система должна быть способна хранить данные о событиях за последние 2 года.
    - Размер среднего сообщения должен составлять не более 1 КБ.
    - Система должна поддерживать хранение данных для 10 миллионов активных пользователей в месяц (MAU) и 1 миллиона активных пользователей в день (DAU).